# Checkbox Review System - Usage Guide

## ğŸ¯ Quick Start

The checkbox review system is now live in your verification page! Here's how to use it:

## ğŸ“ Where to Find It

**Path**: Navigate to **Verification** page (accessible by Verifiers, Managers, and Admins)

## ğŸ” Step-by-Step Review Process

### Step 1: Open an Installation for Review
1. Go to the **Verification** page
2. You'll see a table of pending installations
3. Click the **"Review"** button on any installation

### Step 2: Check the Progress Indicator
At the top of the review dialog, you'll see:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ Review Progress: 0 / 18 items checked                â”‚
â”‚                                                         â”‚
â”‚ Please review and check all data fields before         â”‚
â”‚ approving. Use 'Unreview' to reset all checkboxes     â”‚
â”‚ if needed.                                             â”‚
â”‚                                                         â”‚
â”‚ [â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 15%               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Blue** = Review in progress
- **Green** = All items checked and ready for approval
- Progress bar shows completion percentage

### Step 3: Review Installer Data
In the **Installer Data** card on the left, you'll see checkboxes next to:

```
â”Œâ”€ Installer Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                           â”‚
â”‚ Device ID           D7CB95A9EA9BAEE3  â˜  â”‚
â”‚ Installer          Shafey Yaqub        â˜  â”‚
â”‚                    Makkah Team             â”‚
â”‚ Location ID        5166                â˜  â”‚
â”‚ Sensor Reading     122.79              â˜  â”‚
â”‚ Coordinates        21.469834, 39.92... â˜  â”‚
â”‚ Submitted          Nov 27, 2025 09:13  â˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Action**: Click each checkbox â˜ after verifying the data is correct

### Step 4: Review Server Data (if available)
In the **Server Data** card on the right:

```
â”Œâ”€ Server Data â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                           â”‚
â”‚ Device ID          D7CB95A9EA9BAEE3   â˜  â”‚
â”‚ Sensor Data        26                 â˜  â”‚
â”‚                    2025-12-16 17:21:09    â”‚
â”‚ Received At        2025-12-16 17:21:09 â˜ â”‚
â”‚ Variance           78.83%             â˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Action**: Click each checkbox â˜ after reviewing

âš ï¸ **High Variance Alert**: If variance > 5%, you'll see a red warning at the top

### Step 5: Review Device Information
Below the data comparison, check the device details:

```
â”Œâ”€ Device Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Device UID    [UID]                   â˜  â”‚
â”‚ Product ID    [Product]               â˜  â”‚
â”‚ IMEI          [IMEI Number]           â˜  â”‚
â”‚ ICCID         [ICCID Number]          â˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Action**: Verify each field and check the boxes

### Step 6: Review Installation Photos
Each photo has a checkbox overlay in the top-left corner:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜        â”‚  â”‚ â˜        â”‚  â”‚ â˜        â”‚  â”‚ â˜        â”‚
â”‚  Photo 1 â”‚  â”‚  Photo 2 â”‚  â”‚  Photo 3 â”‚  â”‚  Photo 4 â”‚
â”‚          â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Action**: 
- Click on each photo to view it full-size
- Verify quality and relevance
- Click the checkbox â˜ in the top-left corner

### Step 7: Review 360Â° Video (if uploaded)
If present, the video will have a checkbox:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜                               â”‚
â”‚  [360Â° Video Player]            â”‚
â”‚                                 â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Action**: Watch video and check the box

### Step 8: Monitor Your Progress
As you check each box:
- âœ… Progress indicator updates automatically
- ğŸ“Š Progress bar fills up
- ğŸ’¾ Each checkbox is saved to database immediately
- ğŸ”„ No manual save needed!

### Step 9: Complete the Review

#### When ALL checkboxes are checked:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ Review Progress: 18 / 18 items checked               â”‚
â”‚                                                         â”‚
â”‚ All items have been reviewed. You can now approve      â”‚
â”‚ this installation.                                      â”‚
â”‚                                                         â”‚
â”‚ [â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“] 100%              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

The indicator turns **GREEN** âœ…

#### Available Actions:
1. **Approve Installation** âœ… (Now enabled!)
   - Click to approve
   - Installation status â†’ "verified"
   - Device status â†’ "verified"

2. **Unreview** ğŸ”„
   - Click to reset ALL checkboxes
   - Useful if you want to start over
   - All checkboxes â†’ unchecked

3. **Escalate to Manager** âš ï¸ (Verifiers only)
   - Send to manager for review
   - Useful for complex cases

4. **Flag Installation** âŒ (Admins only)
   - Reject the installation
   - Must provide reason

## ğŸš« What Happens If You Try to Approve Too Early?

If you click "Approve Installation" before checking all boxes:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ Cannot Approve                       â”‚
â”‚                                         â”‚
â”‚ All data fields must be checked before  â”‚
â”‚ approval. Please review all items and   â”‚
â”‚ use 'Unreview' to reset if needed.     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

The button will also be **disabled** (grayed out) until all boxes are checked.

## ğŸ”„ Using the Unreview Feature

### When to Use:
- Started reviewing but got interrupted
- Made mistakes in checking boxes
- Want to restart the review process
- Need to double-check everything

### How to Use:
1. Click the **"Unreview"** button at the bottom
2. All checkboxes reset to unchecked â˜
3. Progress indicator resets to 0%
4. Changes saved immediately

### After Unreview:
- Start checking boxes again from scratch
- Fresh review process begins
- Previous checkbox states are cleared

## ğŸ’¾ Automatic Saving

### What Gets Saved:
- âœ… Every checkbox state
- ğŸ• Saved immediately when toggled
- ğŸ“ Stored in Firebase: `installations/{id}/fieldCheckStates`

### What This Means:
- **No "Save" button needed**
- **Work is never lost**
- **Can close browser and come back**
- **States persist between sessions**

### If Browser Crashes:
- All checked boxes are already saved
- Re-open the same installation
- Continue where you left off

## ğŸ‘¥ Multi-User Behavior

### If Multiple People Review Same Installation:
- Each person sees real-time updates
- Checkbox changes sync across all viewers
- Last change wins (standard database behavior)

### Best Practice:
- Coordinate who's reviewing what
- Use escalation if unsure
- Managers can review escalated items

## ğŸ“Š Different Scenarios

### Scenario 1: Installation WITHOUT Server Data
**Checkboxes Required**: ~14-18
- All Installer Data âœ“
- All Device Information âœ“
- All Photos âœ“
- Video (if present) âœ“
- **No Server Data checkboxes** (grayed out section)

### Scenario 2: Installation WITH Server Data
**Checkboxes Required**: ~18-22
- All Installer Data âœ“
- All Server Data âœ“
- All Device Information âœ“
- All Photos âœ“
- Video (if present) âœ“

### Scenario 3: High Variance (>5%)
**Special Attention**:
- Red warning banner at top
- Variance checkbox in Server Data
- Extra scrutiny recommended
- Consider escalating if unsure

## ğŸ¨ Visual Indicators

### Checkbox States:
- â˜ **Unchecked** = Not yet reviewed
- â˜‘ **Checked** = Reviewed and verified
- â˜ **Disabled** (grayed) = Cannot be changed (in edit mode)

### Progress Colors:
- **Blue** ğŸ”µ = In Progress (0-99%)
- **Green** ğŸŸ¢ = Complete (100%)

### Alert Colors:
- **Red** ğŸ”´ = High variance warning
- **Blue** ğŸ”µ = Review progress
- **Green** ğŸŸ¢ = Ready to approve

## âŒ¨ï¸ Keyboard Tips

### Efficient Review:
1. Tab through fields
2. Space bar to check boxes
3. Click image thumbnails to enlarge
4. ESC to close image preview

## â“ Troubleshooting

### "Checkbox won't stay checked"
- **Cause**: Network issue or permission error
- **Solution**: Check internet connection, try again
- **Fallback**: Use Unreview and restart

### "Progress not updating"
- **Cause**: Cached display
- **Solution**: Close and re-open the installation
- **Check**: Look for error messages in toast

### "Can't find Unreview button"
- **Check**: You're not in Edit Mode
- **Solution**: Cancel edit mode first
- **Location**: Bottom buttons section

### "Approve button still disabled"
- **Check**: All checkboxes marked?
- **Look**: Progress indicator shows 100%?
- **Try**: Scroll through all sections
- **Verify**: Images and video sections checked

## ğŸ¯ Best Practices

### For Efficient Reviews:
1. âœ… **Follow a pattern**: Top to bottom, left to right
2. ğŸ“¸ **Check images carefully**: Click to enlarge each one
3. ğŸ” **Pay attention to high variance**: Extra scrutiny needed
4. ğŸ’¬ **Use escalation when unsure**: Better safe than sorry
5. ğŸ”„ **Use Unreview if interrupted**: Start fresh for accuracy
6. ğŸ“Š **Monitor progress bar**: Know how far you've come
7. â±ï¸ **Take your time**: Accuracy over speed

### For Quality Assurance:
1. Verify data matches between sections
2. Check for data entry errors
3. Ensure photos are clear and relevant
4. Confirm GPS coordinates if location-critical
5. Review team assignment is correct
6. Double-check high variance cases

## ğŸ“± Mobile Usage

The checkbox system works on mobile devices:
- Touch-friendly checkbox sizes
- Tap to check/uncheck
- Swipe to view different sections
- Pinch to zoom images
- All functionality preserved

## ğŸ”’ Permissions

### Who Can Use This:
- âœ… **Verifiers**: Full access to pending installations
- âœ… **Managers**: Full access to escalated installations  
- âœ… **Admins**: Full access to all installations

### Who Cannot:
- âŒ **Installers**: Cannot access verification page
- âŒ **Guests**: Must have account and role

---

## ğŸ‰ You're Ready!

The system is now active. Start reviewing installations with confidence knowing that every detail must be checked before approval!

**Questions?** Check the `CHECKBOX_REVIEW_SYSTEM.md` for technical details.

**Happy Reviewing! ğŸš€**













